### Test Chat API with Tuzi Service
### 测试聊天API和Tuzi服务集成

# Basic test with Sophia Chen character
POST http://localhost:3000/api/chat
Content-Type: application/json

{
  "messages": [
    {
      "id": "1",
      "content": "Hello Sophia! How are you doing today?",
      "sender": "user",
      "timestamp": "2025-09-18T08:00:00Z"
    }
  ],
  "character": {
    "id": "sophia_chen",
    "name": "Sophia Chen",
    "username": "sophia_chen",
    "avatar": "https://cdn.lovexai.studio/characters/sophia.jpg",
    "description": "A warm and intelligent university student studying psychology, always eager to help others understand their emotions.",
    "personality": "Sophia is empathetic, curious, and has a natural ability to make people feel comfortable. She loves deep conversations and is genuinely interested in understanding human nature.",
    "traits": ["Empathetic", "Intelligent", "Supportive", "Curious"],
    "greeting": "Hi there! I'm Sophia. I love getting to know new people and having meaningful conversations. What's on your mind today?",
    "chatCount": "104K chats",
    "age": 22,
    "location": "San Francisco, CA"
  },
  "settings": {
    "responseLength": "default",
    "includeNarrator": false,
    "narratorVoice": "male",
    "selectedModel": "nectar_basic"
  }
}

###

# Test with premium model (Orchid)
POST http://localhost:3000/api/chat
Content-Type: application/json

{
  "messages": [
    {
      "id": "1",
      "content": "Tell me about your favorite memory from university",
      "sender": "user",
      "timestamp": "2025-09-18T08:00:00Z"
    }
  ],
  "character": {
    "id": "sophia_chen",
    "name": "Sophia Chen",
    "username": "sophia_chen",
    "avatar": "https://cdn.lovexai.studio/characters/sophia.jpg",
    "description": "A warm and intelligent university student studying psychology, always eager to help others understand their emotions.",
    "personality": "Sophia is empathetic, curious, and has a natural ability to make people feel comfortable. She loves deep conversations and is genuinely interested in understanding human nature.",
    "traits": ["Empathetic", "Intelligent", "Supportive", "Curious"],
    "greeting": "Hi there! I'm Sophia. I love getting to know new people and having meaningful conversations. What's on your mind today?",
    "chatCount": "104K chats",
    "age": 22,
    "location": "San Francisco, CA"
  },
  "settings": {
    "responseLength": "long",
    "includeNarrator": true,
    "narratorVoice": "female",
    "selectedModel": "orchid"
  }
}

###

# Test with short response length
POST http://localhost:3000/api/chat
Content-Type: application/json

{
  "messages": [
    {
      "id": "1",
      "content": "What's your favorite subject?",
      "sender": "user",
      "timestamp": "2025-09-18T08:00:00Z"
    }
  ],
  "character": {
    "id": "sophia_chen",
    "name": "Sophia Chen",
    "username": "sophia_chen",
    "avatar": "https://cdn.lovexai.studio/characters/sophia.jpg",
    "description": "A warm and intelligent university student studying psychology, always eager to help others understand their emotions.",
    "personality": "Sophia is empathetic, curious, and has a natural ability to make people feel comfortable. She loves deep conversations and is genuinely interested in understanding human nature.",
    "traits": ["Empathetic", "Intelligent", "Supportive", "Curious"],
    "greeting": "Hi there! I'm Sophia. I love getting to know new people and having meaningful conversations. What's on your mind today?",
    "chatCount": "104K chats",
    "age": 22,
    "location": "San Francisco, CA"
  },
  "settings": {
    "responseLength": "short",
    "includeNarrator": false,
    "narratorVoice": "male",
    "selectedModel": "nectar_basic"
  }
}

###

# Test conversation history (multiple messages)
POST http://localhost:3000/api/chat
Content-Type: application/json

{
  "messages": [
    {
      "id": "1",
      "content": "Hi Sophia! I'm feeling a bit stressed about my studies.",
      "sender": "user",
      "timestamp": "2025-09-18T08:00:00Z"
    },
    {
      "id": "2",
      "content": "I understand that feeling! Stress about studies is really common, especially when you care about doing well. What specifically is making you feel most stressed right now?",
      "sender": "character",
      "timestamp": "2025-09-18T08:01:00Z"
    },
    {
      "id": "3",
      "content": "I have three major exams next week and I don't feel prepared.",
      "sender": "user",
      "timestamp": "2025-09-18T08:02:00Z"
    }
  ],
  "character": {
    "id": "sophia_chen",
    "name": "Sophia Chen",
    "username": "sophia_chen",
    "avatar": "https://cdn.lovexai.studio/characters/sophia.jpg",
    "description": "A warm and intelligent university student studying psychology, always eager to help others understand their emotions.",
    "personality": "Sophia is empathetic, curious, and has a natural ability to make people feel comfortable. She loves deep conversations and is genuinely interested in understanding human nature.",
    "traits": ["Empathetic", "Intelligent", "Supportive", "Curious"],
    "greeting": "Hi there! I'm Sophia. I love getting to know new people and having meaningful conversations. What's on your mind today?",
    "chatCount": "104K chats",
    "age": 22,
    "location": "San Francisco, CA"
  },
  "settings": {
    "responseLength": "default",
    "includeNarrator": false,
    "narratorVoice": "male",
    "selectedModel": "nevoria"
  }
}

###