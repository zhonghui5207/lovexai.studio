@baseUrl = http://localhost:3000
@apiKey = sk-Qc0Zn98UXokmsV0IjO98dAZwo354QtKy
@sessionToken = eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2Q0JDLUhTNTEyIiwia2lkIjoiZ1k0RjFYRDlKYkpTSHlhbVRLanlYSzMxMjFsY0MwRUlSZExsYXB5ZExYYk05M0RrbzZOMHo2aWRGMnZuUEt3T0hIaVdTZnBKWnVIVk92VDVxdlBHcUEifQ..-7E8HAS5KLGy8HgllRbzgg.reB2oc-v77eyN9uN1d7BZS7uDmknsJFpRrQjOR3VoxQ904f0Y4zZRHRPQHVCI9YoSbXNKWOAAM7KjGxSFYXhE0gZrohv3sK299m1T6ox3GvHN68SCnP1ZdOsOxB_Y0vGY-1dkAQc4BtkCCyminGJRAdNZk-tTVnamVe-e3UkOrn5Rag4n6avX0fJMR7ldE9zPnERCA4PoxJZd5qZ9ka8g5yFt7GkVPhMtSLW7ITxUcOScXD52m0pnuOR-N2hD6aIF8UPMgZTbTzkugPXcSuJPv6gdkVqVETBOJVePlY4v8zOfuv7bDXijMK_42iCDG5_xE5u6wOtUSNXL4ecIZQzA_hPinfYMhPoODBYAAwk_aP_OcxRkuA7XNo17LaqtXe3BI4qOEO0tkFXwlvnn1i3GBCq8YezQ3-Sw6j7vbxTYaLUeZ8-UegkqwYjjT4gFPr4dQsRDSfhsKYdlMNhCXayKNcBBorJKDmIgj9Z4IYVAeE-rUvK9_oSsIbLAk7CqiKW0FT05oGdqZbwZnPyAOFZHv-yeyv6QcbwIMPahUGWzKx7QQE7hSLxpgtjoRoIzE0fOCT20yKEAFbHTs5sDuqHhr2lDs0PNbniElT-hgKpcBVZR-CTDU4fdczfJWKWSt-2Up0qkYSqzxrK2AKBXULuiZvI6iWINchHd01lXTloIbH_ilh6Rym3DLvhGeU7m7_42OI1LTseHE9BUhYelHlgvzvqowML-M-KXdeWa4T-PcQsjJBd6Xf189QKIKfcduq2.nF5fIxEPXvUxBpLJBA2piyFuem7O1fYrmUOTepOPvE8

### ===== API KEY TESTS =====

### ping api (API key required)
POST {{baseUrl}}/api/ping
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "message": "hello"
}

### get user credits (API key required)
POST {{baseUrl}}/api/get-user-credits
Content-Type: application/json
Authorization: Bearer {{apiKey}}

### Manual Add Credits (API key required)
POST {{baseUrl}}/api/manual-add-credits
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "credits": 100,
  "reason": "test_recharge"
}

### ===== NEXTAUTH SESSION TESTS (已配置session token) =====

### get user info (使用API Key认证)
GET {{baseUrl}}/api/get-user-info
Authorization: Bearer {{apiKey}}

### ===== IMAGE GENERATION TESTS (使用API Key认证) =====

### Test Image Generation - Basic (API Key)
POST {{baseUrl}}/api/generate-image
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "prompt": "a beautiful sunset landscape with mountains",
  "aspect_ratio": "16:9"
}

### Test Image Generation - Happy Girl (API Key - for R2 testing)
POST {{baseUrl}}/api/generate-image  
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "prompt": "a happy girl",
  "aspect_ratio": "16:9"
}

### Test Image Generation - Cat (API Key)
POST {{baseUrl}}/api/generate-image  
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "prompt": "a cute cat wearing sunglasses, studio photo",
  "aspect_ratio": "1:1"
}

### ===== IMAGE GENERATION TESTS (使用session认证 - 如果需要) =====

### Test Image Generation - Basic (Session)
POST {{baseUrl}}/api/generate-image
Content-Type: application/json
Cookie: next-auth.session-token={{sessionToken}}

{
  "prompt": "a beautiful sunset landscape with mountains",
  "aspect_ratio": "16:9"
}

### ===== DEMO API TESTS (API key required) =====

### Demo gen image (API key required)
POST {{baseUrl}}/api/demo/gen-image
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "prompt": "a beautiful girl running with 2 cats",
  "provider": "replicate", 
  "model": "black-forest-labs/flux-schnell"
}

### Demo gen text (API key required)
POST {{baseUrl}}/api/demo/gen-text
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "prompt": "9.11 vs 9.8, which one is greater?",
  "provider": "openrouter",
  "model": "deepseek/deepseek-r1"
}

### ===== DATABASE & OTHER TESTS =====

### Test Database Connection (no auth needed)
GET {{baseUrl}}/api/test-db

### Test NextAuth Providers (no auth needed)
GET {{baseUrl}}/api/auth/providers