@baseUrl = http://localhost:3000
@apiKey = sk-Qc0Zn98UXokmsV0IjO98dAZwo354QtKy

### ping api
POST {{baseUrl}}/api/ping
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "message": "hello"
}

### get user info
GET  {{baseUrl}}/api/get-user-info
Content-Type: application/json
Authorization: Bearer {{apiKey}}


### get user credits
POST {{baseUrl}}/api/get-user-credits
Content-Type: application/json
Authorization: Bearer {{apiKey}}




### gen image
POST {{baseUrl}}/api/demo/gen-image
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "prompt": "a beautiful girl running with 2 cats",
  "provider": "replicate",
  "model": "black-forest-labs/flux-schnell"
}

### gen text 
POST {{baseUrl}}/api/demo/gen-text
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "prompt": "9.11 vs 9.8, which one is greater?",
  "provider": "openrouter",
  "model": "deepseek/deepseek-r1"
}

### ===== DATABASE CONNECTION TEST =====

### Test Database Connection
GET {{baseUrl}}/api/test-db

### ===== AUTHENTICATION TESTS =====

### Test NextAuth API
GET {{baseUrl}}/api/auth/providers

### ===== CREDIT SYSTEM TESTS =====

### Test user credit balance (requires authentication)
GET {{baseUrl}}/api/credits/balance

### Add credits to user (requires authentication)
POST {{baseUrl}}/api/credits/add
Content-Type: application/json

{
  "amount": 100,
  "order_no": "test_order_001",
  "expired_days": 365
}

### ===== IMAGE GENERATION TESTS WITH CREDITS =====

### Test Tuzi AI Image Generation - Basic (with credit deduction)
POST {{baseUrl}}/api/generate-image
Content-Type: application/json

{
  "prompt": "a beautiful sunset landscape with mountains"
}

### Test Tuzi AI Image Generation - Complex prompt (with credit deduction)
POST {{baseUrl}}/api/generate-image
Content-Type: application/json

{
  "prompt": "A futuristic cityscape at sunset, with flying cars and neon lights, cyberpunk style, highly detailed"
}

### Test Tuzi AI Image Generation - With custom aspect ratio (with credit deduction)
POST {{baseUrl}}/api/generate-image
Content-Type: application/json

{
  "prompt": "a cute cat wearing sunglasses, studio photo",
  "aspect_ratio": "1:1"
}

### Test Tuzi AI Image Generation - Portrait style (with credit deduction)
POST {{baseUrl}}/api/generate-image
Content-Type: application/json

{
  "prompt": "professional headshot of a young woman, business attire, clean background",
  "aspect_ratio": "9:16"
}

### Test Image Generation - Without Authentication (should fail)
POST {{baseUrl}}/api/generate-image
Content-Type: application/json

{
  "prompt": "This should fail without authentication"
}

### ===== MANUAL CREDIT MANAGEMENT =====

### Manual Add Credits (requires authentication)
POST {{baseUrl}}/api/manual-add-credits
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "credits": 100,
  "reason": "test_recharge"
}

### Manual Add Credits - Small Amount
POST {{baseUrl}}/api/manual-add-credits  
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "credits": 50,
  "reason": "customer_service"
}

### Manual Add Credits - Invalid Amount (should fail)
POST {{baseUrl}}/api/manual-add-credits
Content-Type: application/json
Authorization: Bearer {{apiKey}}

{
  "credits": 15000,
  "reason": "test_invalid"
}

### ===== R2 STORAGE TESTS =====

### Check R2 Configuration
GET {{baseUrl}}/api/test-r2

### Test R2 Direct Upload
POST {{baseUrl}}/api/test-r2
Content-Type: application/json

{
  "testType": "direct"
}

### Test R2 Download+Upload (using a test image URL)
POST {{baseUrl}}/api/test-r2
Content-Type: application/json

{
  "testType": "download",
  "url": "https://picsum.photos/800/600"
}

### Test R2 Download+Upload (using AI service URL - replace with real URL)
POST {{baseUrl}}/api/test-r2
Content-Type: application/json

{
  "testType": "download",
  "url": "https://delivery-us1.bfl.ai/results/d4/545192c8ea218d/c8ea218d3a38424c91d202c24f748b08/sample.png?se=2025-09-04T02%3A32%3A27Z&sp=r&sv=2024-11-04&sr=b&rsct=image/png&sig=80A6S21oePrgP2ux6n0ay94KED6RXcLQjOd3P7JM098%3D"
}